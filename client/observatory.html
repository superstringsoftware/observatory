<template name="logs_bootstrap">
  <div id="id_logs_bootstrap" class="observatory_panel height50">
  <ul class="nav nav-tabs" id="lb_main_tab">
        <li><a href="#id_logs_tab" id="id_logs_tab_btn">Logs</a></li>
        <li><a href="#id_templates_tab" id="id_templates_tab_btn">Templates&amp;Events</a></li>
        <li><a href="#id_app_tab" id="id_app_tab_btn">Application Internals</a></li>
        <li><a href="#id_help_tab" id="id_help_tab_btn">Help</a></li>
      </ul>

<!-- help tab -->
      <div id="id_help_tab" class="tab-pane">
        Help
      </div>

      <!-- templates & events tab -->
      <div id="id_templates_tab" class="tab-pane" style="height: 100%;" >
        
        <!-- template -->
      <div style="overflow:scroll; height:80%" id="id_templates_div">
        <table class="table table-condensed">
          <thead>
          <tr class="no_border">
            <th class="no_border"><a href="#">Templates</a></th>
            <th class="no_border"><a href="#">Events</a></th>
          </tr>
          </thead>
          <tbody>
            {{#each templates}}
            <tr>
              <td>{{this}}</td>
              <td>
                {{#each template_events this}}
                  <a href="#" class="lb_template_events_list" templateName="{{../this}}" eventName="{{this.name}}">{{this.name}}</a><br/>
                {{/each}}
              </td>
            </tr>  
            {{/each}}
          </tbody>
          </table>
        </div>

        <div class="lb_console" style="overflow:scroll; height:80%">
          <pre id="lb_code_console">
          &nbsp;
          </pre>
        </div>

      </div>

<!-- application internals tab -->
      <div id="id_app_tab" class="tab-pane" style="height: 100%;" >
        
          <!-- session -->
      <div style="overflow:scroll; height:80%" id="id_session_div">
        <table class="table table-condensed">
          <thead>
          <tr>
            
            <th colspan="2"><a href="#">Session</a></th>
          </tr>
          </thead>
          <tbody>
            {{#each session_keys}}
            <tr class="no_border">
              <td class="no_border lb_yellow">{{key}}:</td><td class="no_border">{{value}}</td>
            </tr>  
            {{/each}}
          </tbody>
          </table>
        </div>

      </div>

<!-- logs tab tab -->
      <div class="tab-pane" id="id_logs_tab" style="height: 100%;" >
      <table class="table table-condensed">
        <thead>
          <tr class="lb_header">
            <th id="lbh_timestamp" class="lb_timestamp"><a href="#">timestamp</a></th>
            <th id="lbh_source" class="lb_server"><a href="#">source</a></th>
            <th id="lbh_severity" class="lb_loglevel"><a href="#">severity</a></th>
            <th><a href="#">message</a></th>
          </tr>
        </thead>
      </table>
      <div style="overflow:scroll; height:80%">
        <table class="table table-condensed">
          <tbody>
            {{#each log_messages}}
            <tr class="{{lb_loglevel_row_decoration}} no_border">
              <td class="lb_timestamp">{{format_timestamp timestamp}}</td>
              {{#if isServer}}
              <td class="lb_server"><span class="label label-inverse">SERVER</span></td>
              {{else}}
              <td class="lb_client"><span class="label">CLIENT</span></td>
              {{/if}}
              <td class="lb_loglevel"><span class="label {{lb_loglevel_decoration}}">{{loglevel_names loglevel}}</span></td>
              <td class="lb_message {{lb_loglevel_msg_decoration}}">{{message}}</td>
              {{/each}}
            </tbody>
          </table>
        </div>


      </div>
    </div>
    <a class="observatory_trigger" href="#" id="btn_toggle_logs">O!</a>
  </template>


  <template name="logs_simple">
    {{#each log_messages}}
    {{full_message}}<br/>
    {{/each}}
  </template>



        <!--

          <tr>
              <td>{{timestamp_text}}</td>
              {{#if isServer}}
                <td>[SERVER]</td>
              {{else}}
                <td>[CLIENT]</td>
              {{/if}}
              <td>{{loglevel}}</td>
              <td>{{message}}</td>
          </tr>
                  -->